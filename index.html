<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>冷笑酒場 - Pattern Edition</title>
  </head>
  <body>
    <div id="app">
      <header class="hud">
        <h1>冷笑酒場</h1>
        <div class="hud-values">
          <div class="pill">残り <strong id="time-value">120.0</strong>s</div>
          <div class="pill">スコア <strong id="score-value">0</strong></div>
          <div class="pill">連鎖 <strong id="combo-value">0</strong></div>
          <div class="pill">燃料 <strong id="fuel-value">0</strong></div>
          <div class="pill">読解 <strong id="insight-value">0</strong>%</div>
        </div>
        <button id="start-btn" class="primary">営業開始</button>
      </header>

      <main class="layout">
        <section class="panel customer">
          <div class="customer-head">
            <span id="type-badge" class="badge normal">通常客</span>
            <h2 id="customer-name">準備中...</h2>
            <p id="customer-mood">雰囲気: -</p>
          </div>
          <p id="phase-topic" class="topic">会話フェーズ: -</p>
          <blockquote id="customer-line">営業開始で来店します。</blockquote>
          <p class="order">注文: <strong id="order-name">-</strong></p>

          <div class="meter-wrap">
            <p>
              酒温 <strong id="temp-value">0.0℃</strong> / 提供温度
              <strong id="target-value">0.0℃</strong>
            </p>
            <div class="meter">
              <div id="temp-fill" class="meter-fill temp"></div>
            </div>
          </div>

          <div class="meter-wrap">
            <p>我慢値 <strong id="patience-value">100%</strong></p>
            <div class="meter">
              <div id="patience-fill" class="meter-fill patience"></div>
            </div>
          </div>

          <div class="meter-wrap">
            <p>冷笑燃料 <strong id="fuel-meter-value">100%</strong></p>
            <div class="meter">
              <div id="fuel-fill" class="meter-fill fuel"></div>
            </div>
          </div>

          <div id="battle-wrap" class="meter-wrap hidden">
            <p>熱気バトル <strong id="battle-value">0%</strong></p>
            <div class="meter">
              <div id="battle-fill" class="meter-fill battle"></div>
            </div>
          </div>

          <div id="rhythm-wrap" class="meter-wrap hidden">
            <p>うおｗリズム精度 <strong id="rhythm-value">0%</strong></p>
            <div class="meter">
              <div id="rhythm-fill" class="meter-fill rhythm"></div>
            </div>
          </div>

          <p id="status-line" class="status">営業開始でスタート。</p>
        </section>

        <section class="panel actions">
          <h3>冷笑カード</h3>
          <p class="hint">客の会話フェーズに合わせると強化。連打・同系統連投は耐性で弱体化。</p>
          <div id="card-buttons" class="grid"></div>

          <div id="hot-actions" class="actions-group hidden">
            <p id="rhythm-guide">熱血客はSpaceまたはボタンでリズム入力</p>
            <button id="uo-btn" class="uo">うおｗ</button>
          </div>

          <button id="serve-btn" class="serve">提供する (Enter)</button>
        </section>

        <aside class="panel side">
          <h3>営業ログ</h3>
          <ul id="log-list" class="log-list"></ul>

          <h3>ローカルランキング</h3>
          <p class="hint">GitHub Pages上では端末保存のランキングを表示します。</p>
          <ol id="ranking-list" class="ranking"></ol>
        </aside>
      </main>

      <section id="result-modal" class="result hidden">
        <div class="result-card">
          <h2>営業終了</h2>
          <p>最終スコア: <strong id="final-score">0</strong></p>
          <p id="result-note">客のパターン読みとカード回しが高得点の鍵です。</p>
          <label for="player-name">プレイヤー名</label>
          <input id="player-name" maxlength="16" value="名無し店員" />
          <button id="save-btn" class="primary">ランキング保存</button>
          <button id="retry-btn">もう一度営業</button>
        </div>
      </section>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
